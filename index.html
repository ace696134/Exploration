<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Endless Requium</title>
  <link rel="stylesheet" href="styles.css">

  <!-- anime.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>

<body>

  <!-- TITLE SCREEN -->
  <div id="titleScreen">
    <div class="bg-fade"></div>

    <h1 class="title">ENDLESS REQUIUM</h1>
    <p class="subtitle">A mind that breaksâ€¦ remembers.</p>

    <div class="menu-buttons">
      <button class="btn" id="continueBtn">Continue</button>
      <button class="btn" id="newBtn">New Run</button>
      <button class="btn" id="settingsBtn">Settings</button>
      <button class="btn" id="extrasBtn">Extras</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      /* --------- ENSURE SCREEN IS VISIBLE --------- */
      const title = document.querySelector(".title");
      const subtitle = document.querySelector(".subtitle");
      const menu = document.querySelector(".menu-buttons");
      const bgFade = document.querySelector(".bg-fade");

      // Dark BG fade-in
      anime({
        targets: bgFade,
        opacity: [0, 1],
        duration: 1200,
        easing: "easeOutQuad"
      });

      // Title fade-in
      anime({
        targets: title,
        opacity: [0, 1],
        translateY: [-40, 0],
        duration: 1400,
        delay: 200,
        easing: "easeOutExpo"
      });

      // Subtitle
      anime({
        targets: subtitle,
        opacity: [0, 1],
        translateY: [-20, 0],
        duration: 1400,
        delay: 400,
        easing: "easeOutExpo"
      });

      // Buttons
      anime({
        targets: menu,
        opacity: [0, 1],
        translateY: [20, 0],
        duration: 1200,
        delay: 800,
        easing: "easeOutExpo"
      });

      /* --------- BUTTON LOGIC --------- */
      document.getElementById("newBtn").addEventListener("click", () => {
        fadeOut(() => {
          window.location.href = "lore/lore.html";
        });
      });

      document.getElementById("continueBtn").addEventListener("click", () => {
        fadeOut(() => {
          window.location.href = "lore/lore.html"; // replace later with save system
        });
      });

      function fadeOut(cb) {
        anime({
          targets: "#titleScreen",
          opacity: [1, 0],
          duration: 900,
          easing: "easeInQuad",
          complete: cb
        });
      }
    });
  </script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Endless Requium - Crafting</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body data-audio="ambient.mp3">

  <div id="bgContainer"></div>

  <!-- INVENTORY -->
  <button id="invToggle">Inventory</button>
  <div id="inventory" class="hidden"></div>

  <!-- CENTERED CRAFTING CONTENT -->
  <div class="center-box">
    <h1 class="title" style="opacity:1;">Crafting Table</h1>
    <p class="subtitle" style="opacity:1;">Select a recipe to craft (requires items in inventory)</p>
    
    <div id="recipesContainer" style="display:flex; flex-direction:column; gap:12px;"></div>

    <button id="backBtn" class="btn">â¬… Back</button>
  </div>

  <!-- SCRIPTS -->
<!-- CORE DATA FIRST -->
<script src="../rooms/items.js"></script>
<script src="../rooms/recipe.js"></script>

<!-- SYSTEMS -->
<script src="../rooms/inventory.js"></script>

<!-- CRAFTING -->
<script src="../rooms/crafting.js"></script>

<!-- ROOM HANDLER LAST -->
<script src="../rooms/script.js"></script>

  <script>
    // Go back to previous room
    document.querySelector("#backBtn").addEventListener("click", () => {
      const lastRoom = localStorage.getItem("lastRoom") || "index.html";
      window.location.href = lastRoom;
    });
  </script>
</body>
</html>
